(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[373],{6232:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/AppWrapper",function(){return n(7387)}])},7387:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var o,r,i,a,l=n(5893),s=n(7294),d=n.t(s,2),c=n(9250),u=n(2599);let m=d.startTransition;function f(e){let{basename:t,children:n,future:o,window:r}=e,i=s.useRef();null==i.current&&(i.current=(0,u.lX)({window:r,v5Compat:!0}));let a=i.current,[l,d]=s.useState({action:a.action,location:a.location}),{v7_startTransition:f}=o||{},h=s.useCallback(e=>{f&&m?m(()=>d(e)):d(e)},[d,f]);return s.useLayoutEffect(()=>a.listen(h),[a,h]),s.createElement(c.F0,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a})}"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement,(o=i||(i={})).UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",(r=a||(a={})).UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration";var h=n(8179),p=n(9551);function g(){return(0,l.jsx)(f,{children:(0,l.jsxs)(c.Z5,{children:[(0,l.jsx)(c.AW,{path:"/",element:(0,l.jsx)(h.default,{})}),(0,l.jsx)(c.AW,{path:"/admin-dashboard",element:(0,l.jsx)(p.default,{})}),(0,l.jsx)(c.AW,{path:"/employee-dashboard",element:(0,l.jsx)(p.default,{})})]})})}},9551:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var o=n(5893),r=n(7294),i=n(9250);function a(){let e=(0,i.s0)(),[t,n]=(0,r.useState)(()=>{try{return JSON.parse(localStorage.getItem("auth"))||null}catch(e){return console.error("Failed to parse auth data:",e),null}}),[a,s]=(0,r.useState)([]),[d,c]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{if(!t){e("/");return}"admin"!==t.role&&s(JSON.parse(localStorage.getItem("timeRecords_".concat(t.empid)))||[]),c(!1)},[t,e]),d)return(0,o.jsxs)("div",{style:l.loadingContainer,children:[(0,o.jsx)("div",{style:l.loadingSpinner}),(0,o.jsx)("p",{children:"Loading dashboard..."})]});if(!t)return null;let u="admin"===t.role;return(0,o.jsxs)("div",{style:l.container,children:[(0,o.jsxs)("header",{style:l.header,children:[(0,o.jsxs)("div",{style:l.headerLeft,children:[(0,o.jsxs)("h1",{style:l.welcomeMessage,children:["Welcome, ",(0,o.jsx)("span",{style:l.username,children:t.username}),"!",u&&(0,o.jsx)("span",{style:l.adminBadge,children:" (Admin)"})]}),(0,o.jsxs)("p",{style:l.lastLogin,children:["Last login: ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]})]}),(0,o.jsxs)("button",{onClick:()=>{localStorage.removeItem("auth"),n(null),e("/")},style:l.logoutButton,"aria-label":"Logout",children:[(0,o.jsx)("span",{style:l.logoutIcon,children:"\uD83D\uDEAA"})," Logout"]})]}),(0,o.jsx)("div",{style:l.content,children:u?(0,o.jsx)(AdminControls,{}):(0,o.jsx)(TimeTracker,{empid:t.empid,timeRecords:a})}),(0,o.jsx)("footer",{style:l.footer,children:(0,o.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Time Tracking App"]})})]})}let l={container:{display:"flex",flexDirection:"column",minHeight:"100vh",padding:"2rem",maxWidth:"1200px",margin:"0 auto",backgroundColor:"#f5f5f5"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh"},loadingSpinner:{border:"4px solid rgba(0, 0, 0, 0.1)",borderLeftColor:"#646cff",borderRadius:"50%",width:"40px",height:"40px",animation:"spin 1s linear infinite",marginBottom:"1rem"},header:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"1px solid #ddd"},headerLeft:{flex:1},welcomeMessage:{margin:0,fontSize:"1.8rem",color:"#333"},username:{color:"#646cff",fontWeight:"bold"},adminBadge:{fontSize:"1rem",color:"#ff4444",fontWeight:"bold",marginLeft:"0.5rem"},lastLogin:{margin:"0.25rem 0 0",fontSize:"0.9rem",color:"#666"},content:{flex:1,backgroundColor:"#fff",padding:"1.5rem",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},logoutButton:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",backgroundColor:"#ff4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},logoutIcon:{fontSize:"1rem"},footer:{marginTop:"2rem",paddingTop:"1rem",borderTop:"1px solid #ddd",textAlign:"center",color:"#666",fontSize:"0.9rem"}}},8179:function(e,t,n){"use strict";n.r(t);var o=n(5893);n(7294);var r=n(9250);t.default=function(){let e=(0,r.s0)(),t=t=>{localStorage.setItem("auth",JSON.stringify({username:"admin"===t?"admin":"snoopy",role:t,empid:"admin"===t?11:1})),e("admin"===t?"/admin-dashboard":"/employee-dashboard")};return(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{children:"Employee Login"}),(0,o.jsx)("button",{onClick:()=>t("admin"),children:"Login as Admin"}),(0,o.jsx)("button",{onClick:()=>t("employee"),children:"Login as Employee"})]})}}},function(e){e.O(0,[250,888,774,179],function(){return e(e.s=6232)}),_N_E=e.O()}]);