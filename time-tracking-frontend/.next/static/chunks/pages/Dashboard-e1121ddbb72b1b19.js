(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[156],{1720:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Dashboard",function(){return n(9551)}])},9551:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(5893),o=n(7294),i=n(9250);function a(){let e=(0,i.s0)(),[t,n]=(0,o.useState)(()=>{try{return JSON.parse(localStorage.getItem("auth"))||null}catch(e){return console.error("Failed to parse auth data:",e),null}}),[a,d]=(0,o.useState)([]),[s,c]=(0,o.useState)(!0);if((0,o.useEffect)(()=>{if(!t){e("/");return}"admin"!==t.role&&d(JSON.parse(localStorage.getItem("timeRecords_".concat(t.empid)))||[]),c(!1)},[t,e]),s)return(0,r.jsxs)("div",{style:l.loadingContainer,children:[(0,r.jsx)("div",{style:l.loadingSpinner}),(0,r.jsx)("p",{children:"Loading dashboard..."})]});if(!t)return null;let m="admin"===t.role;return(0,r.jsxs)("div",{style:l.container,children:[(0,r.jsxs)("header",{style:l.header,children:[(0,r.jsxs)("div",{style:l.headerLeft,children:[(0,r.jsxs)("h1",{style:l.welcomeMessage,children:["Welcome, ",(0,r.jsx)("span",{style:l.username,children:t.username}),"!",m&&(0,r.jsx)("span",{style:l.adminBadge,children:" (Admin)"})]}),(0,r.jsxs)("p",{style:l.lastLogin,children:["Last login: ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]})]}),(0,r.jsxs)("button",{onClick:()=>{localStorage.removeItem("auth"),n(null),e("/")},style:l.logoutButton,"aria-label":"Logout",children:[(0,r.jsx)("span",{style:l.logoutIcon,children:"\uD83D\uDEAA"})," Logout"]})]}),(0,r.jsx)("div",{style:l.content,children:m?(0,r.jsx)(AdminControls,{}):(0,r.jsx)(TimeTracker,{empid:t.empid,timeRecords:a})}),(0,r.jsx)("footer",{style:l.footer,children:(0,r.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Time Tracking App"]})})]})}let l={container:{display:"flex",flexDirection:"column",minHeight:"100vh",padding:"2rem",maxWidth:"1200px",margin:"0 auto",backgroundColor:"#f5f5f5"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh"},loadingSpinner:{border:"4px solid rgba(0, 0, 0, 0.1)",borderLeftColor:"#646cff",borderRadius:"50%",width:"40px",height:"40px",animation:"spin 1s linear infinite",marginBottom:"1rem"},header:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"1px solid #ddd"},headerLeft:{flex:1},welcomeMessage:{margin:0,fontSize:"1.8rem",color:"#333"},username:{color:"#646cff",fontWeight:"bold"},adminBadge:{fontSize:"1rem",color:"#ff4444",fontWeight:"bold",marginLeft:"0.5rem"},lastLogin:{margin:"0.25rem 0 0",fontSize:"0.9rem",color:"#666"},content:{flex:1,backgroundColor:"#fff",padding:"1.5rem",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},logoutButton:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",backgroundColor:"#ff4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},logoutIcon:{fontSize:"1rem"},footer:{marginTop:"2rem",paddingTop:"1rem",borderTop:"1px solid #ddd",textAlign:"center",color:"#666",fontSize:"0.9rem"}}}},function(e){e.O(0,[250,888,774,179],function(){return e(e.s=1720)}),_N_E=e.O()}]);